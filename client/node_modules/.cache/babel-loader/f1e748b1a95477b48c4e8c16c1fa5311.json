{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sristichowdhury/Desktop/projects/stack-hack/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport FormPage from \"./components/Forms/FormPage\";\nimport Success from \"./components/Success/Success\";\nimport Cafepage from \"./components/Cafe/Cafepage\";\nimport Home from './components/Home/Home';\nimport Signup from './components/auth/Signup/Signup';\nimport Login from './components/auth/Login/Login';\nimport Cart from './components/Cart/Cart';\nimport React, { useEffect, useState } from 'react';\nimport { createStore } from 'redux';\nimport { reducer } from './reducer'; //react redux - provider wraps app,connect used in components\n\nimport { Provider } from 'react-redux'; //store.getstate()\n//initial store\n//dispatch method- send actions to store\n//actions(objet) - must have type prop with string value- what kinf od action ex- increase deelete\n//dont mutate the state\n// store.dispatch({type:'DECREASE'})\n//get store\n// console.log(store.getState())\n//gives me initial store\n// reducer function \n//two args-state,action\n//state- old state/state before update\n//action- what happened/what update\n//return updated state or old state\n\nconst Routing = () => {\n  return /*#__PURE__*/_jsxDEV(Switch, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/addDetails\",\n      children: /*#__PURE__*/_jsxDEV(FormPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/success/:id\",\n      children: /*#__PURE__*/_jsxDEV(Success, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/menu/:id\",\n      children: /*#__PURE__*/_jsxDEV(Cafepage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/login\",\n      children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/signup\",\n      children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/cart/:id\",\n      children: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}; //handles the routes\n\n\n_c = Routing;\n\nfunction App() {\n  _s();\n\n  const loadState = () => {\n    try {\n      const serializedState = localStorage.getItem('state');\n\n      if (serializedState === null) {\n        return undefined;\n      }\n\n      return JSON.parse(serializedState);\n    } catch (err) {\n      return undefined;\n    }\n  };\n\n  const saveState = state => {\n    try {\n      const serializedState = JSON.stringify(state);\n      localStorage.setItem('state', serializedState);\n      console.log(serializedState);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const [products, setProducts] = useState('');\n  useEffect(() => {\n    fetch(\"http://localhost:8000/cafe/foodList\", {\n      method: 'GET'\n    }).then(res => res.json()).then(res => {\n      var dataset = res.data.results;\n      dataset = dataset.filter(item => item.ItemName != 'Wine');\n      dataset.forEach(item => {\n        item.Price = +item.Price + 20;\n      });\n      setProducts(dataset);\n    }).catch(err => alert(err.error));\n  }, []);\n  const persistedState = loadState();\n  const initialStore = {\n    menu: products,\n    total: 0,\n    cart: [],\n    amount: 0,\n    persistedState\n  };\n  var store;\n  console.log(loadState());\n  if (loadState() == undefined) store = createStore(reducer, initialStore); //pass initial store\n  else store = createStore(reducer, persistedState); // const store=createStore(reducer,persistedState);\n\n  store.subscribe(() => {\n    saveState({\n      /* example state */\n      menu: store.getState().menu,\n      total: store.getState().total,\n      cart: store.getState().addedItems,\n      amount: store.getState().amount\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(Provider, {\n    store: store,\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routing, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 1\n  }, this);\n}\n\n_s(App, \"2394ymEkclEUdjYy59TQuUUSQLw=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Routing\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/projects/stack-hack/client/src/App.js"],"names":["BrowserRouter","Route","Switch","FormPage","Success","Cafepage","Home","Signup","Login","Cart","React","useEffect","useState","createStore","reducer","Provider","Routing","App","loadState","serializedState","localStorage","getItem","undefined","JSON","parse","err","saveState","state","stringify","setItem","console","log","products","setProducts","fetch","method","then","res","json","dataset","data","results","filter","item","ItemName","forEach","Price","catch","alert","error","persistedState","initialStore","menu","total","cart","amount","store","subscribe","getState","addedItems"],"mappings":"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","sourcesContent":["import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter,Route,Switch} from 'react-router-dom'\nimport FormPage from \"./components/Forms/FormPage\"\nimport Success from \"./components/Success/Success\";\nimport Cafepage from \"./components/Cafe/Cafepage\" \nimport Home from './components/Home/Home';\nimport Signup from './components/auth/Signup/Signup';\nimport Login from './components/auth/Login/Login';\nimport Cart from './components/Cart/Cart';\n\nimport React, { useEffect, useState } from 'react';\n\n\n\nimport {createStore} from 'redux';\nimport {reducer} from './reducer'\n\n\n\n//react redux - provider wraps app,connect used in components\nimport {Provider} from 'react-redux';\n\n\n//store.getstate()\n\n\n//initial store\n\n\n//dispatch method- send actions to store\n//actions(objet) - must have type prop with string value- what kinf od action ex- increase deelete\n//dont mutate the state\n\n// store.dispatch({type:'DECREASE'})\n\n//get store\n// console.log(store.getState())\n//gives me initial store\n\n// reducer function \n//two args-state,action\n//state- old state/state before update\n//action- what happened/what update\n//return updated state or old state\n\n\nconst Routing = ()=>\n{\n  return (\n    <Switch>\n    <Route exact path=\"/\">\n      <Home/>\n    </Route>\n    <Route exact path=\"/addDetails\">\n    <FormPage/>\n    </Route>\n    <Route exact path=\"/success/:id\">\n      <Success/>\n    </Route>\n    <Route exact path=\"/menu/:id\">\n      <Cafepage/>\n    </Route>\n    <Route exact path=\"/login\">\n      <Login/>\n    </Route>\n    <Route exact path=\"/signup\">\n      <Signup/>\n    </Route>\n    <Route exact path=\"/cart/:id\">\n      <Cart/>\n    </Route>\n    </Switch>\n  )\n}\n\n//handles the routes\nfunction App() {\n\n\n\n  const loadState = () => {\n    try {\n      const serializedState = localStorage.getItem('state');\n      if (serializedState === null) {\n        return undefined;\n      }\n      return JSON.parse(serializedState);\n    } catch (err) {\n      return undefined;\n    }\n  }; \n\n\n  const saveState = (state) => {\n    try {\n      const serializedState = JSON.stringify(state);\n      localStorage.setItem('state', serializedState);\n      console.log(serializedState)\n    } catch(err) {\n      console.log(err)\n    }\n  };\n\n\n\n \n  \n\n  const[products,setProducts]=useState('');\n\n  useEffect(() => {\n\n\n    fetch(\"http://localhost:8000/cafe/foodList\",\n    {\n      method:'GET'\n    })\n    .then(res=>res.json())\n    .then(res=>{\n  \n      var dataset=res.data.results\n      dataset=dataset.filter(item=>item.ItemName!='Wine');\n      dataset.forEach(item=>\n        {\n          item.Price=(+item.Price)+20\n        });\n        setProducts(dataset)\n    })\n    .catch(err=>alert(err.error))\n  },[])\n  \n\n  const persistedState = loadState();\n\n  const initialStore = {\n    menu:products,\n    total:0,\n    cart:[],\n    amount:0,\n    persistedState\n  }\n  \n\n var store;\n console.log(loadState())\n  \n  if(loadState()==undefined)\n  store=createStore(reducer,initialStore)\n  \n  //pass initial store\n  else\n  store=createStore(reducer,persistedState);\n  // const store=createStore(reducer,persistedState);\n\n\n  store.subscribe(() => {\n    saveState({\n     /* example state */\n      menu:store.getState().menu,\n      total:store.getState().total,\n      cart:store.getState().addedItems,\n      amount: store.getState().amount\n    });\n  });\n\n\n\n  return(\n<Provider store={store}>\n<BrowserRouter>\n<Routing/>\n</BrowserRouter>\n</Provider>\n  )\n\n\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}