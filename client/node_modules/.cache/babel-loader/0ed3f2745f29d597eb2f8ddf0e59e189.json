{"ast":null,"code":"import _slicedToArray from\"/Users/sristichowdhury/Desktop/checking-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import'bootstrap/dist/css/bootstrap.min.css';import{Button,Form,Modal,Spinner}from'react-bootstrap';import{useState}from'react';import{BrowserRouter,Route,Switch,useHistory}from'react-router-dom';var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),orgname=_useState4[0],setOrgName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),eid=_useState6[0],seteId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),photo=_useState12[0],setPhoto=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),show=_useState14[0],setShow=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),previewImg=_useState16[0],setPreviewImg=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),validated=_useState18[0],setValidated=_useState18[1];var history=useHistory();var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setLoading=_useState20[1];var uploadImage=function uploadImage(e){setLoading(true);e.preventDefault();if(!photo){setLoading(false);alert(\"Upload a user image!\");return;}setPreviewImg(URL.createObjectURL(photo));setLoading(false);alert(\"Image Uploaded\");};var showModal=function showModal(event){var form=event.currentTarget;if(!photo){setLoading(false);alert(\"Upload a user image!\");return;}if(form.checkValidity()===false){event.preventDefault();event.stopPropagation();}setShow(true);setValidated(true);};var postform=function postform(e){setLoading(true);var formData=new FormData();formData.append('userImage',photo);formData.append('name',name);formData.append('orgName',orgname);formData.append('email',email);formData.append('empID',eid);formData.append('phone',phone);fetch(\"http://localhost:5000/add/uploadForm\",{method:'POST',body:formData}).then(function(res){return res.json();}).then(function(res){console.log(res);// setPhoto(res.imagePath);\nif(!res.error){history.push(\"/success/\".concat(res.data._id));}else{setLoading(false);setShow(!show);alert(res.error);}}).catch(function(err){alert(err.error);setLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Form,{style:{width:\"70%\",margin:\"2% auto\",padding:\"2% 5%\",border:\"1px\",borderRadius:\"1rem\",background:\"#f8f1f1\"},noValidate:true,validated:validated,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Details \"}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter full name\",onChange:function onChange(e){return setName(e.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please enter your full name.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicOrganisation\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Organisation Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter organisation name\",onChange:function onChange(event){return setOrgName(event.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please enter your organisation name.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicId\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Emplopyee ID No.\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Enter Emplopyee ID No\",onChange:function onChange(event){return seteId(event.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please enter your employee ID No.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPhone\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone No.\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Enter Phone No.\",onChange:function onChange(event){return setPhone(event.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please enter a valid phone number.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(event){return setEmail(event.target.value);},required:true}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"Please enter your correct email ID.\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Upload ID Card\"}),/*#__PURE__*/_jsx(Form.File,{id:\"exampleFormControlFile1\",onChange:function onChange(event){setPhoto(event.target.files[0]);},accept:\".jpg,.png,.jpeg\"})]}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"primary\",onClick:uploadImage,children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:showModal,float:\"right\",children:\"Submit\"})]}),loading?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",className:\"spinner\"}):'',/*#__PURE__*/_jsxs(Modal,{className:\"modal\",show:show,onHide:function onHide(){return setShow(false);},size:\"lg\",\"aria-labelledby\":\"example-custom-modal-styling-title\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-custom-modal-styling-title\",children:\"Details Preview\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"p\",{className:\"modalText\",children:[/*#__PURE__*/_jsx(\"img\",{src:previewImg}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),name]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Organisation Name:\"}),orgname]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone:\"}),phone!==undefined||phone!==null?phone:\"  Add Phone No.\"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Employee ID:\"}),eid]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email ID:\"}),email]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{onClick:postform,variant:\"primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setShow(false);},variant:\"secondary\",children:\"Make Changes\"})]})]})]});};export default Home;","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/checking-1/client/src/components/Home.jsx"],"names":["React","Button","Form","Modal","Spinner","useState","BrowserRouter","Route","Switch","useHistory","Home","name","setName","orgname","setOrgName","eid","seteId","phone","setPhone","email","setEmail","photo","setPhoto","show","setShow","previewImg","setPreviewImg","validated","setValidated","history","loading","setLoading","uploadImage","e","preventDefault","alert","URL","createObjectURL","showModal","event","form","currentTarget","checkValidity","stopPropagation","postform","formData","FormData","append","fetch","method","body","then","res","json","console","log","error","push","data","_id","catch","err","width","margin","padding","border","borderRadius","background","target","value","files","undefined"],"mappings":"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","sourcesContent":["import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button,Form,Modal, Spinner } from 'react-bootstrap';\n\nimport {useState} from 'react'\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom'\n\n\nconst Home=()=>{\n    const [name,setName]=useState(\"\");\n    const [orgname,setOrgName]=useState(\"\");\n    const [eid,seteId]=useState(\"\");\n    const [phone,setPhone]=useState(\"\");\n    const [email,setEmail]=useState(\"\");\n    const [photo,setPhoto]=useState(\"\");\n    const [show, setShow] = useState(false);\n    const [previewImg,setPreviewImg]=useState('');\n    const [validated, setValidated] = useState(false);\n    const history=useHistory();\n    \n\n    const [loading,setLoading]=useState(false);\n\n    \n\n\n    const uploadImage = (e) =>\n    {\n          setLoading(true)\n          e.preventDefault();\n\n          if(!photo)\n          {\n\n            setLoading(false);\n            alert(\"Upload a user image!\");\n            return;\n          }\n          \n          setPreviewImg(URL.createObjectURL(photo));\n          setLoading(false);\n          alert(\"Image Uploaded\");\n\n\n    }\n\n\n  const showModal = (event) => {\n\n\n    const form = event.currentTarget;\n    if(!photo)\n          {\n\n            setLoading(false);\n            alert(\"Upload a user image!\");\n            return;\n          }\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    setShow(true)\n      setValidated(true);\n  };\n\n\n    const postform=(e)=>{\n      \n       setLoading(true)\n        const formData=new FormData();\n        formData.append('userImage',photo);\n        formData.append('name',name);\n        formData.append('orgName',orgname);\n        formData.append('email',email);\n        formData.append('empID',eid);\n        formData.append('phone',phone);\n\n          fetch(\"http://localhost:5000/add/uploadForm\",\n          {\n            method:'POST',\n            body:formData\n\n          }).then(res=>res.json())\n          .then(res=>\n            {\n                console.log(res);\n                // setPhoto(res.imagePath);\n                \n                if(!res.error)\n                {\n                  history.push(`/success/${res.data._id}`)\n            }\n            else\n            {\n               setLoading(false);\n               setShow(!show);\n               alert(res.error);\n            }\n            })\n          .catch(err=>{\n            alert(err.error);\n            setLoading(false);\n          })\n        \n    }\n  \n    return (\n      <div className=\"App\">\n      \n       <Form \n       style={{width:\"70%\",margin:\"2% auto\",padding:\"2% 5%\",border:\"1px\",borderRadius:\"1rem\",background:\"#f8f1f1\"}}\n       noValidate validated={validated}>\n\n\n       <h3>Add Details </h3>\n\n\n       <Form.Group controlId=\"formBasicName\">\n\n          <Form.Label >Name</Form.Label>\n\n          <Form.Control type=\"text\" \n          placeholder=\"Enter full name\" \n          onChange={(e)=>setName(e.target.value)} \n          required/>\n\n\n          <Form.Control.Feedback type=\"invalid\">Please enter your full name.</Form.Control.Feedback>\n          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n        \n        </Form.Group>\n          \n\n\n        <Form.Group controlId=\"formBasicOrganisation\">\n\n        <Form.Label >Organisation Name</Form.Label>\n\n        <Form.Control type=\"text\" \n        placeholder=\"Enter organisation name\" \n        onChange={(event)=>setOrgName(event.target.value)} \n        required/>\n\n        <Form.Control.Feedback type=\"invalid\">Please enter your organisation name.</Form.Control.Feedback>\n        <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n\n        </Form.Group>\n\n\n\n\n\n          <Form.Group controlId=\"formBasicId\">\n\n          <Form.Label >Emplopyee ID No.</Form.Label>\n\n          <Form.Control type=\"number\" \n          placeholder=\"Enter Emplopyee ID No\" \n          onChange={(event)=>seteId(event.target.value)} \n          required/>\n\n          <Form.Control.Feedback type=\"invalid\">Please enter your employee ID No.</Form.Control.Feedback>\n          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n\n\n          </Form.Group>\n\n\n\n\n          <Form.Group controlId=\"formBasicPhone\">\n\n          <Form.Label >Phone No.</Form.Label>\n\n          <Form.Control type=\"number\" \n          placeholder=\"Enter Phone No.\" \n          onChange={(event)=>setPhone(event.target.value)} required/>\n\n          <Form.Control.Feedback type=\"invalid\">Please enter a valid phone number.</Form.Control.Feedback>\n          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n\n\n          </Form.Group>\n\n\n          <Form.Group controlId=\"formBasicEmail\">\n\n          <Form.Label>Email address</Form.Label>\n\n          <Form.Control type=\"email\" \n          placeholder=\"Enter email\" \n          onChange={(event)=>setEmail(event.target.value)} \n          required/>\n\n          <Form.Text className=\"text-muted\">\n            We'll never share your email with anyone else.\n          </Form.Text>\n\n\n          <Form.Control.Feedback type=\"invalid\">Please enter your correct email ID.</Form.Control.Feedback>\n          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\n\n\n          </Form.Group>\n\n          <Form.Group>\n\n          <Form.Label>Upload ID Card</Form.Label>\n\n          <Form.File id=\"exampleFormControlFile1\" \n          onChange={(event)=>{setPhoto(event.target.files[0])}} \n          accept=\".jpg,.png,.jpeg\" \n          />       \n          </Form.Group>\n\n          <Button type=\"button\" \n          variant=\"primary\" \n          onClick={uploadImage}>Upload Image</Button>\n\n          <br/>\n          <br/>\n        \n        <Button variant=\"primary\" onClick={showModal} float=\"right\">\n          Submit\n        </Button>\n  \n        </Form>\n     \n  \n  \n        {loading?<Spinner animation=\"border\" role=\"status\" className=\"spinner\"/>:''}\n       \n        \n        <Modal\n          className=\"modal\"\n          show={show}\n          onHide={() => setShow(false)}\n          size=\"lg\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title id=\"example-custom-modal-styling-title\">\n             Details Preview\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n\n          <p className=\"modalText\">\n            <img src={previewImg}/>\n              <h4><span>Name:</span>{name}</h4>\n              <h4><span>Organisation Name:</span>{orgname}</h4>\n              <h4><span>Phone:</span>{phone!==undefined||phone!==null?phone:`  Add Phone No.`}</h4>\n              <h4><span>Employee ID:</span>{eid}</h4>\n              <h4><span>Email ID:</span>{email}</h4>\n            </p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={postform} variant=\"primary\">Submit</Button>\n            <Button onClick={()=>setShow(false)} variant=\"secondary\">Make Changes</Button>\n          </Modal.Footer>\n        </Modal>\n  \n  \n      </div>\n    );\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}