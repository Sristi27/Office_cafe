{"ast":null,"code":"export const reducer = (state, action) => {\n  //default action passed initially\n  //state undefined initially\n  //2 return options\n  //old state or updated state\n  console.log({\n    state,\n    action\n  });\n\n  if (action.type == 'DECREASE_ITEM') {\n    let newCart = state.addedItems.filter(item => item.objectId != action.payload);\n    let items = [...state.addedItems];\n    let newItems = items.filter(item => {\n      if (item.objectId === action.payload) {\n        item.quantity -= 1;\n        if (item.quantity == 0) flag = true;\n      }\n\n      return item;\n    });\n    return { ...state,\n      addedItems: newItems,\n      amount: state.amount + addedItem.Price,\n      total: state.total + 1\n    };\n\n    if (flag == 0) {\n      return { ...state,\n        addedItems: newCart,\n        amount: state.amount - existedItem.Price,\n        total: state.total - 1\n      };\n    } else {\n      newCart.push(existedItem);\n      return { ...state,\n        addedItems: newCart,\n        amount: state.amount - existedItem.Price,\n        total: state.total - 1\n      };\n    }\n  }\n\n  if (action.type == 'INCREASE_ITEM') {\n    let addedItem = state.addedItems.find(item => item.objectId == action.payload);\n    let items = [...state.addedItems];\n    let newItems = items.filter(item => {\n      if (item.objectId === action.payload) {\n        item.quantity += 1;\n      }\n\n      return item;\n    });\n    return { ...state,\n      addedItems: newItems,\n      amount: state.amount + addedItem.Price,\n      total: state.total + 1\n    };\n  }\n\n  if (action.type == 'RESET') {\n    return { ...state,\n      count: 0\n    };\n  }\n\n  if (action.type === \"ADD_TO_CART\") {\n    // console.log(state.addedItems,state.cart)\n    let addedItem = state.cart.find(item => item.objectId === action.payload);\n    let existedItem = state.addedItems.find(item => item.objectId === action.payload); // console.log(addedItem,existedItem)\n\n    if (existedItem) {\n      let newCart = state.addedItems.filter(item => item.objectId != action.payload); ///take out the increase quantity item\n\n      existedItem.quantity = existedItem.quantity + 1;\n      newCart.push(existedItem);\n      return { ...state,\n        addedItems: newCart,\n        amount: state.amount + addedItem.Price,\n        total: state.total + 1\n      };\n    } else {\n      addedItem = { ...addedItem,\n        quantity: 1\n      };\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        amount: state.amount + addedItem.Price,\n        total: state.total + 1\n      };\n    }\n  }\n\n  if (action.type == 'REMOVE_ITEM') {\n    let itemToRemove = state.addedItems.find(item => item.objectId === action.payload);\n    let new_items = state.addedItems.filter(item => item.objectId != action.payload); //calculating the total\n\n    let newTotal = state.total - itemToRemove.quantity; //calculate amount\n\n    let newAmount = state.amount - itemToRemove.Price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return { ...state,\n      addedItems: new_items,\n      total: newTotal,\n      amount: newAmount\n    };\n  }\n\n  if (action.type == 'GET_AMOUNT') {\n    return { ...state,\n      name: 'bobo'\n    };\n  } ///as a default always return the original stae(old state-before updation)\n\n\n  return state;\n};","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/projects/stack-hack/client/src/reducer.js"],"names":["reducer","state","action","console","log","type","newCart","addedItems","filter","item","objectId","payload","items","newItems","quantity","flag","amount","addedItem","Price","total","existedItem","push","find","count","cart","itemToRemove","new_items","newTotal","newAmount","name"],"mappings":"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","sourcesContent":["export const reducer = (state,action) =>\n{\n\n  //default action passed initially\n  //state undefined initially\n\n  //2 return options\n  //old state or updated state\n  console.log({state,action})\n\n\n  if(action.type=='DECREASE_ITEM')\n  {\n    let newCart = state.addedItems.filter(item => item.objectId != action.payload);\n    let items = [...state.addedItems];\n    let newItems = items.filter((item) => {\n          if (item.objectId === action.payload) {\n              item.quantity-=1;\n              if(item.quantity==0)\n              flag=true;\n            }\n\n            return item;\n        });\n    \n    return {...state,\n        addedItems:newItems,\n        amount:state.amount+addedItem.Price,\n        total:state.total+1}\n      if(flag==0)\n      {\n        return {...state,addedItems:newCart,\n          amount:state.amount-existedItem.Price,\n          total:state.total-1\n        }}\n      \n      else\n      {\n        newCart.push(existedItem);\n        return {...state,addedItems:newCart,\n        amount:state.amount-existedItem.Price,\n        total:state.total-1}}\n    \n  }\n\n  if(action.type=='INCREASE_ITEM')\n  {\n    let addedItem=state.addedItems.find(item=>item.objectId==action.payload)\n    let items = [...state.addedItems];\n    \n    let newItems = items.filter((item) => {\n          if (item.objectId === action.payload) {\n              item.quantity+=1;\n            }\n\n            return item;\n        });\n    \n    return {...state,\n        addedItems:newItems,\n        amount:state.amount+addedItem.Price,\n        total:state.total+1}\n  }\n\n  if(action.type=='RESET')\n  {\n    return {...state,count:0}\n  }\n\n\n  if(action.type===\"ADD_TO_CART\")\n  {\n    // console.log(state.addedItems,state.cart)\n    let addedItem=state.cart.find(item=>item.objectId===action.payload);\n    let existedItem=state.addedItems.find(item=>item.objectId===action.payload);\n    // console.log(addedItem,existedItem)\n    if(existedItem)\n    {\n      let newCart = state.addedItems.filter(item => item.objectId != action.payload);\n      ///take out the increase quantity item\n      existedItem.quantity = existedItem.quantity+1;\n      newCart.push(existedItem);\n\n      return {...state,addedItems:newCart,\n        amount:state.amount+addedItem.Price,\n        total:state.total+1}\n    }\n    else\n    {\n       addedItem={...addedItem,quantity:1}\n       return {...state,\n        addedItems:[...state.addedItems,addedItem],\n        amount:state.amount+addedItem.Price,\n        total:state.total+1\n      }\n    }\n  }\n\n  if(action.type=='REMOVE_ITEM')\n  {\n    let itemToRemove= state.addedItems.find(item=>item.objectId===action.payload)\n    let new_items = state.addedItems.filter(item=> item.objectId!=action.payload)\n        \n    //calculating the total\n    let newTotal = state.total - (itemToRemove.quantity )\n    //calculate amount\n    let newAmount = state.amount - (itemToRemove.Price * itemToRemove.quantity )\n    console.log(itemToRemove)\n    return{\n            ...state,\n            addedItems: new_items,\n            total: newTotal,\n            amount:newAmount\n          }\n  }\n\n  if(action.type=='GET_AMOUNT')\n  {\n    return {...state,name:'bobo'}\n  }\n  ///as a default always return the original stae(old state-before updation)\n  return state;\n}"]},"metadata":{},"sourceType":"module"}