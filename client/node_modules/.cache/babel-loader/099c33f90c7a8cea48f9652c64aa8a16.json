{"ast":null,"code":"import _toConsumableArray from\"/Users/sristichowdhury/Desktop/checking-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/sristichowdhury/Desktop/checking-1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import LoadingOverlay from'react-loading-overlay';import{Card,CardDeck,Col,Container,Row,Button,Spinner}from\"react-bootstrap\";import CafeNav from\"./CafeNav\";var Cafepage=function Cafepage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),foodItems=_useState6[0],setFoodItems=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),total=_useState8[0],setTotal=_useState8[1];useEffect(function(){fetch(\"http://localhost:5000/cafe/foodList\",{method:'POST'}).then(function(res){return res.json();}).then(function(res){setFoodItems(res.items);}).catch(function(err){return alert(err);});console.log(localStorage.getItem('cart'));},[]);var addToCart=function addToCart(name,price){console.log(name,price);//  cart.push({name,price})\nsetCart([].concat(_toConsumableArray(cart),[{name:name,price:price}]));setTotal(total+price);localStorage.setItem('cart',cart);};var Spin=function Spin(){return/*#__PURE__*/_jsx(LoadingOverlay,{active:loading,spinner:true,text:\"Loading your content...\"});};var Checkout=function Checkout(){return/*#__PURE__*/_jsx(\"div\",{});};var Empty=function Empty(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Your Cart is Empty\"})});};var clearCart=function clearCart(){setCart([]);setTotal(0);};var pay=function pay(){setLoading(true);alert('Payment Processing!');setTimeout(function(){setLoading(false);clearCart();alert(\"Payment Completed\");},3000);};//  console.log(JSON.parse(localStorage.getItem('cart')))\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CafeNav//   eid={eid} eimage={eimage}\n,{}),loading?/*#__PURE__*/_jsx(Spin,{}):'',/*#__PURE__*/_jsx(Container,{style:{margin:'10px auto'},children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:9,children:/*#__PURE__*/_jsx(Row,{children:foodItems!=''&&foodItems.map(function(item){return/*#__PURE__*/_jsx(Col,{xs:5,children:/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(Card.Img,{className:\"cardImage\",variant:\"top\",src:item.image}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:item.name}),/*#__PURE__*/_jsx(Card.Text,{children:/*#__PURE__*/_jsxs(\"h4\",{style:{display:'flex',justifyContent:'space-between'},children:[\"Price\",/*#__PURE__*/_jsx(\"span\",{children:item.price})]})})]}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsx(Button,{style:{float:'right'},onClick:function onClick(){return addToCart(item.name,item.price);},children:\"Add to Cart\"})})]})});})})}),/*#__PURE__*/_jsx(Col,{xs:3,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center'},children:\"Cart\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Text,{children:cart!=[]?cart.map(function(item){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h5\",{style:{display:'flex',justifyContent:'space-between'},children:[item.name,/*#__PURE__*/_jsxs(\"span\",{children:[\"Rs.\",item.price]})]})});}):/*#__PURE__*/_jsx(Empty,{})})}),/*#__PURE__*/_jsxs(Card.Footer,{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{display:'flex',justifyContent:'space-between'},children:[\"Total:\",/*#__PURE__*/_jsxs(\"span\",{children:[\"Rs.\",total]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{style:{float:'right'},onClick:function onClick(){return pay();},children:\"Proceed to Pay\"})]})]})})]})})]});};export default Cafepage;","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/checking-1/client/src/components/Cafepage.jsx"],"names":["React","useEffect","useState","LoadingOverlay","Card","CardDeck","Col","Container","Row","Button","Spinner","CafeNav","Cafepage","cart","setCart","loading","setLoading","foodItems","setFoodItems","total","setTotal","fetch","method","then","res","json","items","catch","err","alert","console","log","localStorage","getItem","addToCart","name","price","setItem","Spin","Checkout","Empty","clearCart","pay","setTimeout","margin","map","item","marginBottom","image","display","justifyContent","float","textAlign"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport { Card, CardDeck, Col, Container,Row,Button, Spinner} from \"react-bootstrap\";\n\nimport CafeNav from \"./CafeNav\";\n\nconst Cafepage = () => {\n\n\n\n\n  \nconst [cart,setCart]=useState([]);\nconst [loading,setLoading]=useState(false)\n\n\n  const [foodItems,setFoodItems]=useState('');\n  const [total,setTotal]=useState(0);\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/cafe/foodList\",\n    {\n      method:'POST'\n    })\n    .then(res=>res.json())\n    .then(res=>{\n      setFoodItems(res.items)\n    })\n    .catch(err=>alert(err))\n\n\n    console.log(localStorage.getItem('cart'))\n\n\n\n  }, [])\n\n\n\n\nconst addToCart = (name,price) =>\n{\n   console.log(name,price)\n  //  cart.push({name,price})\n   setCart([...cart,{name,price}])\n   setTotal(total+price);\n\n   localStorage.setItem('cart',cart)\n   \n}\n       \nconst Spin = () =>\n{\n   return (\n      <LoadingOverlay\n      active={loading}\n      spinner\n      text='Loading your content...'\n      >\n    </LoadingOverlay>\n   )\n}\n\n\nconst Checkout = () =>\n{\n    return (\n      <div>\n\n      </div>\n    )\n}\n\nconst Empty = () =>\n{\n    return (\n      <div>\n<h2>Your Cart is Empty</h2>\n      </div>\n    )\n}\n\nconst clearCart = () =>\n{\n   setCart([]);\n   setTotal(0);\n}\n\nconst pay = () =>\n{\n   setLoading(true);\n   alert('Payment Processing!');\n   setTimeout(() => {\n     setLoading(false)\n     clearCart();\n\n     alert(\"Payment Completed\");\n   }, 3000);\n}\n  //  console.log(JSON.parse(localStorage.getItem('cart')))\n       \n  return (\n    <>\n      <CafeNav\n      //   eid={eid} eimage={eimage}\n      />\n      \n\n\n      {loading?<Spin/>:''}\n        <Container style={{margin:'10px auto'}}>\n          <Row>\n            <Col xs={9}>\n            <Row>\n              {foodItems!='' && foodItems.map((item)=>\n                {\n                  return(\n              <Col xs={5}>\n              <Card style={{marginBottom:'20px'}}>\n             <Card.Img\n             className=\"cardImage\"\n               variant=\"top\"\n               src={item.image}\n             />\n             <Card.Body>\n               <Card.Title>{item.name}</Card.Title>\n               <Card.Text>\n                 <h4 style={{display:'flex',justifyContent:'space-between'}}>Price<span>{item.price}</span></h4>\n               </Card.Text>\n             </Card.Body>\n             <Card.Footer>\n               <Button style={{float:'right'}}\n                onClick={()=>addToCart(item.name,item.price)}\n               >Add to Cart</Button>\n             </Card.Footer>\n           </Card>\n          </Col>\n                  )\n                })}\n            \n              </Row>\n              </Col>\n              <Col xs={3}>\n                <Card>\n                  <Card.Title><h3 style={{textAlign:'center'}}>Cart</h3></Card.Title>\n                  <Card.Body>\n                  <Card.Text>\n                {cart!=[] ? \n                cart.map((item)=>\n                {\n                   return (\n                      <div>\n                        <h5 style={{display:'flex',justifyContent:'space-between'}}>\n                          {item.name}<span>Rs.{item.price}</span></h5></div>\n                   )\n                }):<Empty/>}   \n                  </Card.Text>\n                  </Card.Body>\n                  <Card.Footer>\n                    <h4 style={{display:'flex',justifyContent:'space-between'}}>Total:<span>Rs.{total}</span></h4>\n                    <br/>\n                    <Button style={{float:'right'}}\n                    onClick={()=>pay()}\n                    >Proceed to Pay</Button>\n                  </Card.Footer>\n                </Card>\n              </Col>\n          </Row>\n        </Container>\n    </>\n  );\n};\n\nexport default Cafepage;\n"]},"metadata":{},"sourceType":"module"}